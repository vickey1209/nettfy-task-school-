<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Display</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <style type="text/css">
    table,
    td,
    th {
      border: 1px solid #ddd;
      text-align: left;
    }

    table {
      border-collapse: collapse;
      width: 50%;
    }
    .table-data {
      position: relative;
      left: 50px;
      top: 50px;
    }
    th,
    td {
      padding: 15px;
    }
    a {
      padding-right: 15px;
    }
    .pagination {
      margin: 2rem 0;
      text-align: center;
    }
    .pagination a {
      text-decoration: none;
      color: rgb(9, 107, 107);
      padding: 0.5rem;
      border: 1px solid rgb(9, 107, 107);
      margin: 0 1rem;
    }

    .pagination a:hover,
    .pagination a:active {
      background: rgb(9, 107, 107);
      color: white;
    }
  </style>

  <body>
    <form action="/search" method="POST">
      <label for="search">Search by Name: </label>
      <input type="text" name="search" id="search" placeholder="Search" />
     <input type="submit" value="submit" name="submit" style="color:white; background: green;">
    </form>
    <!--====form section start====-->
    <hr />
    <% if(details!=null) { %>
    <table>
      <tr>
        <th>First name</th>
        <th>Last name</th>
        <th>Email</th>
        <th>Gender</th>
        <th>Phone</th>
        <th>Age</th>
        <th>File</th>
        <th>Password</th>
        <th>options</th>
      </tr>
      <% details.forEach(function(item){ %>
      <tr>
        <td><%= item.firstname%></td>
        <td><%= item.lastname%></td>
        <td><%= item.email%></td>
        <td><%= item.gender%></td>
        <td><%= item.phone%></td>
        <td><%= item.age%></td>
        <td><%= item.file%></td>
        <td><%= item.password%></td>
        <td>
          <a style="color: blue" href="/edit/<%= item._id%>" ->Edit</a>
          <a style="color: red" href="/delete/<%= item._id%>">Delete</a>
        </td>
      </tr>
      <% }) %>
    </table>
    <% } %>
    <section class="pagination">
      <% if( locals.x!= null){ %> <% for(i=1;i<=x;i++){ %>
      <a href="/display?page=<%= i  %>&limit=3"><%= i %></a>

      <% } %> <% } %>
    </section>
    <a style="color: blue" href="/download">Download</a>
    <a style="color: blue" href="/generateReport">Generate Report</a>
    <a style="color: blue" href="/invoice">Invoice</a>
  </body>
  <script>
    $("a").on("click", function () {
      $(this).css("background-color", "yellow");
    });
  </script>
</html>
